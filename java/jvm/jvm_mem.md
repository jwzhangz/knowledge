# 内存
***
### 运行时数据区域
#### 程序计数器
当前线程所执行的字节码行号指示器。

由于Java虚拟机的多线程是通过线程轮流切换并分配处理器执行时间的方式实现的，在任何一个确定的时刻，一个处理器(对于多核处理器来说是一个内核)都只会执行一条线程中的指令。  

每个线程都会有一个独立的程序计数器，这类内存称为“线程私有”内存。  

如果正在执行的方法是Native方法，这个计数器值为空(Undefined)。此内存区域是唯一一个在Java虚拟机规范中没有规定任何OutOfMemoryError情况的区域。
#### Java虚拟机栈  
#### 本地方法栈
#### Java堆
#### 方法区
#### 运行时常量池  
#### 直接内存  

## 对象内存布局
在HotSpot中，对象在内存中分为3块区域：对象头，实例数据，对其填充。  
### 对象头
对象头包括两部分信息，Mark Word 和类型指针。数组对象的对象头中还包括记录数组长度的数据。虚拟机可以通过Java对象的元数据信息确定Java对象的大小，但是无法从数组的元数据中确定数组的大小。
##### Mark Word
Mark Word在32位虚拟机和64位虚拟机中分别为32bit和63bit。  

##### 类型指针
即对象指向它的类元数据的指针，虚拟机通过这个指针确定这个对象是哪个类的实例。  

##### 对齐填充
HotSpot的自动内存管理系统要求对象起始地址必须是8字节的整数倍。

