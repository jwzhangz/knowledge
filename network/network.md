###### 环回接口
允许运行在同一台主机上的程序通过TCP/IP通信。A类网络号127就是为环回接口预留的。根据惯例，大多数系统把IP地址127.0.0.1分配给这个接口，并命名为localhost。一个传给环回接口的IP数据报不会在网络上出现。  

环回接口可以被看做是网络层下面的另一个链路层。网络层把一份数据报传送给环回接口，就像传给其他链路层一样，只不过环回接口把它返回到IP的输入队列中。

###### 最大传输单元MTU
以太网和802.3对数据帧的长度有一个限制，其最大值分别是1500和1492字节。链路层的这个特性称为MTU。

如果IP层有一个数据报要传，而且数据长度比链路层MTU要大，那么IP层就需要分片（fragmentation），每一片小于MTU。

# IP 网际协议
IP提供不可靠、无连接的数据报传送服务。

不可靠指不能保证IP数据报能成功到达目的地。无连接指IP并不维护任何关于后续数据报的状态信息。每个数据报的处理时相互独立的。IP数据报可以不按发送顺序接收。每个数据报都是独立的进行路由选择。可能选择不同的路线。

#### IP 首部
普通Ip首部长为20字节，除非包含选项字段。

4个字节的32bit值以big endian字节序作为传输次序。首先是0~7 bit，其次是8~15 bit，16~23 bit，24~31 bit。0~7是高位的8 bit。

#### IP路由
IP层在内存中有一个路由表。当收到一份数据报并进行发送时，它都要对该表搜索一次。IP路由选择只为数据报传输提供下一站路由器的IP地址。
```
查看路由表
netstat -rn
```

IP路由选择主要完成以下工作：
1. 搜索路由表，寻找与目的IP地址完全匹配的条目(网络号和主机号都相等)。如果找到，则把报文发送给该表目指定的下一跳路由器或直接连接的网络接口。(取决于标志字段的值)。
2. 搜索路由表，寻找能与目的网络号相匹配的条目。如果找到，则把报文发送给该表目指定的下一跳路由器或直接连接的网络接口。(取决于标志字段的值)。
3. 搜索路由表，寻找标为“默认”(default)的表目。如果找到，则把报文发送给该表目指定的下一跳路由器。

如果上面的步骤没有成功，那么该数据报就不能被传送。


***
###### 路由表

```
查看路由表
netstat -rn
```

